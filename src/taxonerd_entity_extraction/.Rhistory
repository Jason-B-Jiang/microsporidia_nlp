abstracts <- read_xlsx('../../data/manually_collect_abstracts.xlsx')
# -----------------------------------------------------------------------------
#
# Format microsporidia host data
#
# Jason Jiang - Created: 2022/05/09
#               Last edited: 2022/05/09
#
# Mideo Lab - Microsporidia text mining
#
# Add host data from Supplemental Table S1 from Murareanu et al. to manually
# extracted microsporidia abstract data (manually_collect_abstracts.xlsx,
# generated by src/organize_species_papers.R)
#
#
# -----------------------------------------------------------------------------
library(tidyverse)
library(readxl)
################################################################################
abstracts <- read_xlsx('../../data/manually_collect_abstracts.xlsx')
microsp_data <- read_csv('../../data/microsporidia_species.csv')
view(abstracts)
nrow(filter(abstracts, !is.na(abstract)))
594 / 634
# -----------------------------------------------------------------------------
#
# Format microsporidia host data
#
# Jason Jiang - Created: 2022/05/09
#               Last edited: 2022/05/09
#
# Mideo Lab - Microsporidia text mining
#
# Add host data from Supplemental Table S1 from Murareanu et al. to manually
# extracted microsporidia abstract data (manually_collect_abstracts.xlsx,
# generated by src/organize_species_papers.R)
#
#
# -----------------------------------------------------------------------------
library(tidyverse)
library(readxl)
################################################################################
abstracts <- read_xlsx('../../data/manually_collect_abstracts.xlsx')
microsp_data <- read_csv('../../data/microsporidia_species.csv')
nrow(filter(abstracts, is.na(first_paper_title)))
filter(abstracts, is.na(first_paper_title))
nrow(filter(abstracts, is.na(first_paper_title)))
# -----------------------------------------------------------------------------
#
# Format microsporidia host data
#
# Jason Jiang - Created: 2022/05/09
#               Last edited: 2022/05/09
#
# Mideo Lab - Microsporidia text mining
#
# Add host data from Supplemental Table S1 from Murareanu et al. to manually
# extracted microsporidia abstract data (manually_collect_abstracts.xlsx,
# generated by src/organize_species_papers.R)
#
#
# -----------------------------------------------------------------------------
library(tidyverse)
library(readxl)
################################################################################
abstracts <- read_xlsx('../../data/manually_collect_abstracts.xlsx')
microsp_data <- read_csv('../../data/microsporidia_species.csv')
nrow(filter(abstracts, is.na(first_paper_title)))
nrow(filter(abstracts, is.na(abstract)))
view(abstracts)
view(microsp_data)
setdiff(abstracts$species, microsp_data$`Species Name`)
# -----------------------------------------------------------------------------
#
# Format microsporidia host data
#
# Jason Jiang - Created: 2022/05/09
#               Last edited: 2022/05/09
#
# Mideo Lab - Microsporidia text mining
#
# Add host data from Supplemental Table S1 from Murareanu et al. to manually
# extracted microsporidia abstract data (manually_collect_abstracts.xlsx,
# generated by src/organize_species_papers.R)
#
#
# -----------------------------------------------------------------------------
library(tidyverse)
library(readxl)
################################################################################
abstracts <- read_xlsx('../../data/manually_collect_abstracts.xlsx')
microsp_data <- read_csv('../../data/microsporidia_species.csv')
setdiff(abstracts$species, microsp_data$`Species Name`)
view(abstract)
view(abstracts)
view(microsp_data)
view(filter(microsp_data, !is.na(`Experimental Host(s)`)))
test <- filter(microsp_data, `Species Name` %in% abstracts$species)
view(test)
identical(test$`Species Name`, abstracts$species)
test_1 <- arrange(abstracts, species)
identical(test$`Species Name`, test_1$species)
view(test)
?rename
test <- filter(microsp_data, `Species Name` %in% abstracts$species) %>%
rename(species = `Species Name`)
test <- filter(microsp_data, `Species Name` %in% abstracts$species) %>%
rename(species = `Species Name`, hosts = `Natural Host(s)`)
?inner_join
merge(x = abstracts, y = test, by = "species", all.x = TRUE)
test_merge = merge(x = abstracts, y = test, by = "species", all.x = TRUE)
view(test_merge)
test <- filter(microsp_data, `Species Name` %in% abstracts$species) %>%
rename(species = `Species Name`, hosts = `Natural Host(s)`) %>%
select(species, hosts)()
test <- filter(microsp_data, `Species Name` %in% abstracts$species) %>%
rename(species = `Species Name`, hosts = `Natural Host(s)`) %>%
select(species, hosts)
test_merge = merge(x = abstracts, y = test, by = "species", all.x = TRUE)
vew(test_merge)
view(test_merge)
# -----------------------------------------------------------------------------
#
# Format microsporidia host data
#
# Jason Jiang - Created: 2022/05/09
#               Last edited: 2022/05/09
#
# Mideo Lab - Microsporidia text mining
#
# Add host data from Supplemental Table S1 from Murareanu et al. to manually
# extracted microsporidia abstract data (manually_collect_abstracts.xlsx,
# generated by src/organize_species_papers.R)
#
#
# -----------------------------------------------------------------------------
library(tidyverse)
library(readxl)
################################################################################
abstracts <- read_xlsx('../../data/manually_collect_abstracts.xlsx')
microsp_data <- read_csv('../../data/microsporidia_species.csv')
host_data <- microsp_data %>%
rename(species = `Species Name`, hosts = `Natural Host(s)`)
view(host_data)
host_data <- microsp_data %>%
rename(species = `Species Name`, hosts = `Natural Host(s)`) %>%
select(species, hosts)
view(host_data)
abstracts <- merge(x = abstracts, y = host_data, by = 'species', all.x = TRUE)
view(abstracts)
write_csv(abstracts, '../../data/abstracts_hosts_matched.csv')
source("~/Desktop/microsporidia_nlp/src/taxonerd_entity_extraction/format_host_data.R", echo=TRUE)
view(abstracts)
